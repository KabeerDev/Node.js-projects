<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
    <title>Vote</title>
</head>

<body>
    <%- include('components/nav'); %>

        <div class="container my-5 w-50">
            <h1 class="text-center">Vote</h1>
            <h3 class="text-center text-secondary">
                <%=userData.isVoted==true ? "You have voted. Thank You!" : "" %>
            </h3>
            <h3 class="text-center text-secondary">
                <%=userData.role=="admin" ? "Admin Cannot Vote!" : "" %>
            </h3>
            <form action="/vote" method="post" class="list-group">
                <% candidates.forEach(candidate=> { %>
                    <label class="list-group-item d-flex gap-2">
                        <input <%=userData.role=="admin" ? "disabled" : "" %>
                        <%=userData.isVoted==true ? "disabled" : "" %> class="form-check-input flex-shrink-0"
                            type="radio" name="voted_candidate"
                            value="<%=candidate._id %>">
                                <span>
                                    <%=candidate.name %>
                                        <small class="d-block text-body-secondary">
                                            <strong>Party: </strong>
                                            <%=candidate.party %>
                                        </small>
                                </span>
                    </label>
                    <% }) %>
                        <button class="btn btn-outline-success mt-4">VOTE</button>
            </form>
        </div>

        <%- include('components/footer'); %>
</body>

</html>